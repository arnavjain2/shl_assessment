services:
  # -------------------------
  # FASTAPI BACKEND
  # -------------------------
  - type: web
    name: shl-api
    env: python
    plan: free
    buildCommand: pip install -r requirements.txt
    startCommand: uvicorn api:app --host 0.0.0.0 --port 10000
    envVars:
      - key: PYTHON_VERSION
        value: 3.10

  # -------------------------
  # STREAMLIT FRONTEND
  # -------------------------
  - type: web
    name: shl-ui
    env: python
    plan: free
    buildCommand: pip install -r requirements.txt
    startCommand: streamlit run app.py
    envVars:
      - key: PYTHON_VERSION
        value: 3.10
      - key: API_URL
        value: https://shl-api.onrender.com/recommend
